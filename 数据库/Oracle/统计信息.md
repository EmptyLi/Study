```sql
create table t2 as select * from dba_objects;

create index idx_t2 on t2(OBJECT_ID);

ANALYZE INDEX idx_t2 DELETE STATISTICS ;

ANALYZE  table t2 estimate statistics sample 15 percent for table;

ANALYZE TABLE t2 COMPUTE STATISTICS FOR TABLE ;

ANALYZE TABLE T2 COMPUTE STATISTICS FOR COLUMNS object_name, object_id;

ANALYZE TABLE t2 COMPUTE STATISTICS FOR TABLE FOR COLUMNS object_name, object_id;

ANALYZE INDEX IDX_T2 COMPUTE STATISTICS ;

ANALYZE TABLE T2 DELETE STATISTICS ;

ANALYZE TABLE T2 COMPUTE STATISTICS ;

5.2.1.2 用 DBMS_STATS包收集统计信息
DBMS_STATS.GATHER_TABLE_STATS
  收集目标表、目标表的列和目标表上的索引和的统计信息
DBMS_STATS.GATHER_INDEX_STATS
  收集指定索引的统计信息
DBMS_STATS.GATHER_SCHEMA_STATS
  收集指定schema下素有对象的统计信息
DBMS_STATS.GATHER_DATABASE_STATS
  收集全库所有对象的统计信息


select p.SPID, p.SERIAL# as proserial,p.PID as pid, s.SID as sessionid,
       s.SERIAL# as sessseri, s.USERNAME,s.OSUSER,s.MACHINE,
       s.PROGRAM,s.ACTION,s.STATUS
from v$session s, v$process p
where s.PADDR=p.ADDR and s.SID in (
select session_id from v$locked_object
where object_id in (select object_id from dba_objects
where owner='&schema' and object_name='&name'));
```
