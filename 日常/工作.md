# CreditMaster 环境使用介绍

我们通过构建如下环境，来满足开发、测试以及产品等团队不同角色人员，在产品不同阶段对于应用程序的访问需求。并明确了不同环境的具体访问方式以及适用场景作为使用参考。 不同环境的命名统一如下：

*   Dev: 开发环境
*   Test: 测试环境
*   UAT: 验收环境
*   Prod: （Production）生产环境

## 标准版

### 标准版开发环境 Dev

*   前端 [http://10.100.44.37:6060](http://10.100.44.37:6060)

*   后端 [http://10.100.44.37:6060/v2/api.htm](http://10.100.44.37:6060/v2/api.htm)l

*   数据库 (oracle)

    *   url: jdbc:oracle:thin:@//10.100.47.10:1521/orcl

    *   username: cs_master_tgt

    *   password: abc123

### 标准版测试环境 Test

*   前端 [http://master-test.chinacscs.com:8080](http://master-test.chinacscs.com:8080)

*   后端 [http://master-test.chinacscs.com:8080/v2/api.html](http://master-test.chinacscs.com:8080/v2/api.html)

*   数据库 (oracle)

> *   url: jdbc:oracle:thin:@//10.100.47.10:1521/orcl
> *   username: cs_master_test_new
> *   password: abc123

### 标准版验收环境 UAT

*   前端 [http://10.100.44.32:3030](http://10.100.44.32:3030)

*   后端 [http://10.100.44.32:3030/v2/api.html](http://10.100.44.32:3030/v2/api.html)

*   数据库 (oracle)

> *   url: jdbc:oracle:oci:@(DESCRIPTION=(LOAD_BALANCE=OFF)(FAILOVER=ON)(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=10.100.45.23)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=10.100.45.24)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=orcl_ha)(FAILOVER_MODE=(TYPE=SELECT)(METHOD=BASIC)(RETRIES=5)(DELAY=30))))
> *   username: cs_master_tgt
> *   password: abc123

### 标准版生产环境 Prod

*   前端 (双活，通过A10跳转） [https://master.chinacscs.com](https://master.chinacscs.com)
*   后端（双活，略）
*   数据库 （Oracle，双活，略）

### 标准版试用环境 (旧)

*   前端 [master-trial.chinacscs.com:8443](http://master-trial.chinacscs.com:8443) (内网 http://10.100.199.20:8443/)

*   后端 [master-trial.chinacscs.com:8443/v2/api.html](http://master-trial.chinacscs.com:8443/v2/api.html) (内网 10.100.199.20:8443/v2/api.html)

*   数据库 (PostgreSQL)

    *   url: jdbc:[postgresql://10.100.199.20:3432/cs_master_tgt](postgresql://10.100.199.20:3432/cs_master_tgt)

    *   username: cs_master_tgt

    *   password: abc123

### 标准版试用环境（新）

*   前端 [master-test.chinacscs.com:6060](/project/admin-credit-master/wiki/master-test.chinacscs.com:6060)

*   后端 [master-test.chinacscs.com:6060/v2/api.html](master-test.chinacscs.com:6060/v2/api.html)

*   数据库 (Oracle)

    *   url: jdbc:oracle:thin:@//10.100.47.10:1521/orcl

    *   username: CS_MASTER_TEST

    *   password: abc123

## WEB版

### WEB版开发环境

*   前端

*   后端

*   数据库 (oracle)

    *   url: jdbc:oracle:thin:@//10.100.23.10:1521/orcl

    *   username: cs_master_web

    *   password: abc123

### WEB版测试环境

*   前端

*   后端

*   数据库 (oracle)

    *   url: jdbc:oracle:thin:@//10.100.23.10:1521/orcl

    *   username: cs_master_web_test

    *   password: abc123

## 招商证券

### 招商证券试用环境

*   前端 [http://10.100.23.18:3030/](http://10.100.23.18:3030/)

*   后端 [http://10.100.23.18:3030/v2/api.html](http://10.100.23.18:3030/)

*   数据库 (oracle)

    *   url: jdbc:oracle:thin:@//10.100.45.32:1521/orcl

    *   username: cs_master_tgt

    *   password: abc123

## 招商银行

### 招商开发环境 Dev

*   前端 [10.100.44.37:9090](/project/admin-credit-master/wiki/10.100.44.37:9090)

*   后端 [10.100.44.37:9090/v2/api.html](10.100.44.37:9090/v2/api.html)

*   数据库 (oracle)

    *   url: jdbc:oracle:thin:@//10.100.45.10:1521/orcl

    *   username: cs_master_tgt

    *   password: abc123

### 招商测试环境 Test

*   前端 [master-test.chinacscs.com:9090](http://master-test.chinacscs.com:9090)

*   后端 [master-test.chinacscs.com:9090/v2/api.html](http://master-test.chinacscs.com:9090/v2/api.html) TBD

*   数据库 (Oracle)

    *   url: jdbc:oracle:thin:@//10.100.45.10:1521/orcl

    *   username: cs_master_test

    *   password: abc123

### 招商验收环境 UAT

*   前端 [10.100.44.20:3030](http://10.100.44.20:3030)

*   后端 (双活）

*   [10.100.44.20:8080/master/api.html](http://10.100.44.20:8080/master/api.html)

*   [10.100.44.21:8080/master/api.html](http://10.100.44.21:8080/master/api.html)

*   数据库 (Oracle)

    *   url: jdbc:oracle:thin:@//10.100.45.29:1521/orcl

    *   username: cmap_app

    *   password: abc123

## 中国结算

### 结算开发环境 Dev

*   前端 [http://10.100.44.37:3030](http://10.100.44.37:3030)

*   后端 [http://10.100.44.37:3030/v2/api.html](http://10.100.44.37:3030/v2/api.html)

*   数据库（PostgreSQL)

    *   url: jdbc:[postgresql://10.100.23.10:3432/cs_master_tgt](postgresql://10.100.23.10:3432/cs_master_tgt)

    *   username: cs_master_tgt

    *   password: abc123

### 结算测试环境 Test

*   前端 [https://master-test.chinacscs.com:1010](https://master-test.chinacscs.com:1010)

*   后端 [https://master-test.chinacscs.com:1010/v2/api.html](https://master-test.chinacscs.com:1010/v2/api.html)

*   数据库（PostgreSQL)

    *   url: jdbc:[postgresql://10.100.23.10:3432/cs_master_test](postgresql://10.100.23.10:3432/cs_master_test)

    *   username: cs_master_test

    *   password: abc123

### 结算验收环境 UAT

*   前端 [http://10.100.44.14:3030](http://10.100.44.14:3030)

*   后端 [http://10.100.44.14:3030/v2/api.html](http://10.100.44.14:3030/v2/api.html)

*   数据库 (PostgreSQL)

    *   url: jdbc:[postgresql://10.100.44.14:3432/cs_master_tgt2](postgresql://10.100.44.14:3432/cs_master_tgt2)

    *   username: cs_master_tgt2

    *   password: abc123

## 长城证券

### 长城验收环境 UAT

*   前端 [http://10.100.23.12:3030](http://10.100.23.12:3030)

*   后端 [http://10.100.23.12:3030/v2/api.html](http://10.100.23.12:3030/v2/api.html)

    *   数据库 (Oracle)

    *   jdbc:oracle:thin:@//10.100.23.10:1521/orcl

    *   username: cs_master_tgt

    *   password: abc123

### 长城BI 验收环境 UAT

[http://10.100.44.23:8080/login/](http://10.100.44.23:8080/login/)






## 数据库信息
### 东财 choice 数据库
```
ip: 172.19.6.90
port: 1521
sid:orcl
username: choice
password:choice
```
### GodenCastle
```
ip: 172.19.6.12
port: 1521
sid: ORCL_DEV
username: cs_dm cs_credit
password:
```
### expert 测试环境
```
ip: 10.100.47.10
port: 1521
sid: orcl
username: expert_v2_test
password:
```

### expert 生产环境
```
ip: 10.100.47.10
port: 1521
sid: orcl
username: expert_v2
password:
```

### expert 采数团队使用
```
ip: 10.100.47.10
port: 1521
sid: orcl
username: cs_bi
password:
```


### 堡垒机地址
```
http://10.100.53.17:7190/host
123456
```

### 债券评级注意事项
```
[!!!] 需要修改的视图
VW_BOND_RATING_CACUL
注意将change_dt 修改回来
```

### MDS 生产环境
```
mds prod:
内网IP：10.100.31.73
端口：3432
数据库名：cs_master_ds
用户名：cs_master_ds
密码：Do2eKjeamlJap5ZC
```
### 招商


### 招商市场预警逻辑
```
1. 估值收益 vs 估值收益率 ： 连续
2. 交易收益率 vs 交易收益率：前一个有效交易日收益率
3. 交易收益率vs 估值收益率: 交易收益率 跟 前一天的估值收益率
```
### azkaban 环境
> http://172.19.6.7:8081/
> azkaban
> abc123

### portal 环境
> https://portal.chinacscs.com/#/home

### 招商UAT CreditMaster 登录地址
> http://10.100.44.20:3030

### 招商测试 CreditMaster 登录地址
> http://master-test.chinacscs.com:9090/#/login

### 债券评级清理表清单
```sql
bond_rating_record
bond_rating_detail
bond_rating_factor
bond_rating_xw
bond_rating_approv
bond_rating_display
```

### 东财客户端
```
用户名:xyzj0010,密码:085577;
```

### MDS 推数通道配置
```sql
（FACTOR,ELEMENT,FACTOR_ELEMENT_XW,FACTOR_OPTION,EXPOSURE_FACTOR_XW）的同步
UPDATE subscribe_table
SET ISDEL=222
WHERE subscribe_table_id IN (
select SUBSCRIBE_TABLE_ID from vw_subscribe_table where subscribe_id=1 and tgt_table in ('FACTOR','ELEMENT','FACTOR_ELEMENT_XW','FACTOR_OPTION','EXPOSURE_FACTOR_XW')
) AND SUBSCRIBE_ID=1;

```

### 企业规模代码
```plsql
select * from LKP_CONSTANT where constant_type=34
```

-   B	大型企业
    M	中型企业
    S	小型企业
    W	微型企业

### element的data_type

```plsql
select * from LKP_NUMBCODE where CONSTANT_type = '38'
```

| 代码   | 含义   |
| ---- | ---- |
| 0    | 数字   |
| 1    | 文本   |

### MDS 推数到客户本地
```sql
测试环境
select * from etl_exp_loadlog_test where subscribe_id=5 and table_nm='vw_bond_basicinfo_05';

UAT环境
select * from etl_exp_loadlog_uat where subscribe_id=5 and table_nm='vw_bond_basicinfo_05';

1.SSH登录10.100.44.11 端口222 用户 chinacscs 密码 Cscs@31$2017#
2.su - root 密码 Chinacscs@2017#
3.执行/usr/local/MasterDataExport-1.1.0/bin/MasterDataExport.sh -s 5 -e test
---------------------------------------------------------------------------
登录用户：
chinacscs/Cscs@31$2017#
root/Chinacscs@2017#

端口：10010

10.100.24.11

MDS PROD -->招商UAT环境
/usr/local/MasterDataExport-1.0-SNAPSHOT/bin/MasterDataExport.sh -s 5 -e uat
MDS PROD -->招商TEST环境
/usr/local/MasterDataExport-1.0-SNAPSHOT/bin/MasterDataExport.sh -s 5 -e test
```
